<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mercymie Naturals — Simple Shop</title>

  <!-- SEO & Social -->
  <meta name="description" content="Mercymie Naturals — clean, natural skincare. Simple checkout with transparent pricing." />
  <meta property="og:title" content="Mercymie Naturals" />
  <meta property="og:description" content="Clean, natural skincare — nothing else." />
  <meta property="og:type" content="website" />

  <style>
    :root{ --bg:#0f0f11; --panel:#171a20; --text:#e8eaed; --muted:#97a0aa; --brand:#9af0bf; --border:#23262e; }
    *{ box-sizing:border-box }
    html,body{ margin:0; background:var(--bg); color:var(--text); font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial }
    a{ color:inherit; text-decoration:none }
    img{ max-width:100%; display:block; height:auto }
    .muted{ color:var(--muted) }
    .container{ max-width:1000px; margin:0 auto; padding:24px }

    /* Nav */
    .nav{ position:sticky; top:0; background:#111319cc; border-bottom:1px solid var(--border); backdrop-filter:blur(4px) }
    .nav-inner{ display:flex; align-items:center; justify-content:space-between; padding:12px 24px }
    .brand{ display:flex; gap:10px; align-items:center; font-weight:800 }
    .dot{ width:24px; height:24px; border-radius:12px; background:linear-gradient(135deg,var(--brand),#d8ffe9) }
    .links{ display:flex; gap:16px; color:var(--muted) }
    .cart-btn{ appearance:none; background:none; border:0; color:inherit; cursor:pointer; display:inline-flex; align-items:center; gap:6px; font:inherit }
    .badge{ display:inline-block; min-width:18px; padding:0 6px; border-radius:10px; background:#1f2630; color:var(--text); text-align:center; font-size:12px }

    /* Hero */
    .hero{ padding:48px 0 }
    .hero-grid{ display:grid; grid-template-columns:1.2fr .8fr; gap:24px; align-items:center }
    @media (max-width:900px){ .hero-grid{ grid-template-columns:1fr } }
    h1{ font-size:clamp(28px,4.5vw,44px); line-height:1.08; margin:0 0 10px }

    /* Buttons */
    .btn{ border:0; border-radius:12px; padding:12px 16px; font-weight:700; cursor:pointer }
    .btn-primary{ background:var(--brand); color:#0b130e }
    .btn-ghost{ background:#1a1e24; color:var(--muted) }
    .cta{ display:flex; gap:10px; flex-wrap:wrap; margin-top:14px }

    /* Product grid */
    .grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:16px }
    @media (max-width:700px){ .grid{ grid-template-columns:1fr } }

    .card{ background:var(--panel); border:1px solid var(--border); border-radius:18px; overflow:hidden }
    .card img{ aspect-ratio:4/3; object-fit:cover; background:#0c0d10 } /* shape: 4:3 */
    .card .info{ padding:12px 14px }
    .price{ display:flex; align-items:center; justify-content:space-between; margin-top:8px }

    /* Cart drawer */
    .drawer{ position:fixed; top:0; right:-420px; width:420px; max-width:92vw; height:100vh; background:#0f1116; border-left:1px solid #242731; transition:right .25s; display:flex; flex-direction:column; z-index:50; outline:0 }
    .drawer.open{ right:0 }
    .drawer header{ display:flex; justify-content:space-between; align-items:center; padding:14px 16px; border-bottom:1px solid #1f2230 }
    .drawer .items{ flex:1; overflow:auto; padding:12px; display:grid; gap:12px }
    .drawer .row{ display:grid; grid-template-columns:64px 1fr auto; gap:10px; align-items:center; background:#151821; border:1px solid #232732; border-radius:12px; padding:8px }
    .qty{ display:inline-flex; border:1px solid #2a2e37; border-radius:10px; overflow:hidden }
    .qty button{ background:#1a1e26; border:0; padding:10px 12px; color:var(--text); cursor:pointer; user-select:none }
    .qty input{ width:44px; background:#12151b; color:var(--text); border:0; text-align:center; padding:10px 0 }
    .drawer footer{ padding:12px 16px; border-top:1px solid #1f2230; display:grid; gap:8px }
    .row-sum{ display:flex; justify-content:space-between; align-items:center }

    /* Toast */
    .toast{ position:fixed; left:50%; bottom:24px; transform:translateX(-50%); background:#12151b; border:1px solid #262a34; padding:10px 14px; border-radius:12px; opacity:0; pointer-events:none; transition:opacity .25s; z-index:60 }
    .toast.show{ opacity:1 }

    /* A11y helpers */
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }
    :focus-visible{ outline:2px solid var(--brand); outline-offset:2px }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ transition:none !important; animation:none !important }
      .nav{ backdrop-filter:none }
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav" aria-label="Primary">
    <div class="nav-inner container">
      <div class="brand"><span class="dot" aria-hidden="true"></span>Mercymie Naturals</div>
      <div class="links">
        <a href="#shop">Shop</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <button id="openCart" class="cart-btn" aria-haspopup="dialog" aria-controls="cartDrawer">
          Cart <span id="cartCount" class="badge" aria-live="polite" aria-atomic="true">0</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="container hero">
    <div class="hero-grid">
      <div>
        <h1>Clean, natural skincare — nothing else.</h1>
        <p class="muted">Click → add to cart → checkout. Transparent pricing: product + tax + shipping.</p>
        <div class="cta">
          <a class="btn btn-primary" href="#shop">Shop now</a>
          <a class="btn btn-ghost" href="#contact">Contact</a>
        </div>
      </div>
      <div>
        <img id="heroImage" alt="Skincare hero" src="" loading="eager" decoding="async" width="1200" height="900" />
      </div>
    </div>
  </header>

  <!-- SHOP -->
  <main class="container" id="shop">
    <h2>Shop</h2>
    <div id="productGrid" class="grid" aria-live="polite"></div>
  </main>

  <!-- ABOUT & CONTACT -->
  <section class="container" id="about">
    <h2>About</h2>
    <p class="muted">Mercymie Naturals focuses on simple, effective products you can trust. The brand began alongside efforts to support women affected by violence; today our store is exclusively skincare, built on clarity and care.</p>
  </section>
  <section class="container" id="contact">
    <h2>Contact</h2>
    <p class="muted">Questions about an order or product? Email <a href="mailto:info@mercymienaturals.com" rel="noopener">info@mercymienaturals.com</a>.</p>
  </section>

  <!-- Accessible live region for announcements -->
  <div aria-live="polite" aria-atomic="true" class="sr-only" id="a11yUpdates"></div>

  <!-- ===== EASY DATA TO EDIT ===== -->
  <script>
    const DATA = {
      HERO_IMAGE: "./image_hero.jpg",
      PRODUCTS: [
        { id:"toner", title:"Hydrating Toner", price:24.00, image:"./hydrating-toner.jpg", size:"50 ml", tag:"Hydration" },
        { id:"serum", title:"Vitamin C Serum", price:28.00, image:"./serum.jpg", size:"30 ml", tag:"Brighten" }
      ]
    };

    // Settings
    const SETTINGS = {
      TAX_RATE: 0.08,                        // 8% tax
      SHIPPING: { base: 6.5, freeThreshold: 50 }, // $6.50, free > $50
      CHECKOUT_ENABLED: false                // placeholder; wire to Stripe/Shopify later
    };
  </script>

  <!-- ===== RENDERING + CART LOGIC ===== -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Helpers
      const $  = (s)=>document.querySelector(s);
      const fmt = new Intl.NumberFormat('en-US',{ style:'currency', currency:'USD' }).format;
      const CART_KEY = 'mmn_cart_v2';

      // Announce
      const toast = $('#toast');
      const live  = $('#a11yUpdates');
      function showToast(msg){ toast.textContent = msg; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'), 1400); }
      function announce(msg){ live.textContent=''; requestAnimationFrame(()=>{ live.textContent = msg; }); }

      // Hero
      $('#heroImage').src = DATA.HERO_IMAGE;

      // Products
      const grid = $('#productGrid');
      function renderProducts(){
        grid.innerHTML = '';
        DATA.PRODUCTS.forEach(p=>{
          const card = document.createElement('article');
          card.className = 'card';

          const img = document.createElement('img');
          img.alt = p.title;
          img.src = p.image;
          img.loading = 'lazy';
          img.decoding = 'async';
          img.width = 800; img.height = 600;              // prevents layout shift
          card.appendChild(img);

          const info = document.createElement('div');
          info.className = 'info';
          const title = document.createElement('strong');
          title.textContent = p.title;
          const meta = document.createElement('div');
          meta.className = 'muted';
          meta.textContent = p.size + (p.tag ? ` • ${p.tag}` : '');
          const price = document.createElement('div');
          price.className = 'price';
          const priceSpan = document.createElement('span');
          priceSpan.textContent = fmt(p.price);

          const btn = document.createElement('button');
          btn.className = 'btn btn-ghost';
          btn.type = 'button';
          btn.setAttribute('data-add', p.id);
          btn.setAttribute('aria-label', `Add ${p.title} to cart`);
          btn.textContent = 'Add to cart';

          price.append(priceSpan, btn);
          info.append(title, meta, price);
          card.appendChild(info);
          grid.appendChild(card);
        });
      }

      // Cart store
      function getCart(){ try { return JSON.parse(localStorage.getItem(CART_KEY)) || {}; } catch { return {}; } }
      function setCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); updateBadge(); }
      function addToCart(id, qty=1){ const c=getCart(); c[id]=(c[id]||0)+qty; setCart(c); announce('Added to cart'); showToast('Added to cart'); openDrawer(); renderCart(); }
      function removeFromCart(id){ const c=getCart(); delete c[id]; setCart(c); renderCart(); announce('Removed from cart'); showToast('Removed from cart'); }
      function setQty(id, qty){ const c=getCart(); c[id]=Math.max(1, parseInt(qty)||1); setCart(c); renderCart(); }
      function cartItems(){ const c=getCart(); return Object.entries(c).map(([id,qty])=>{ const p=DATA.PRODUCTS.find(x=>x.id===id); return p?{...p, qty}:null; }).filter(Boolean); }
      function totals(){ const items=cartItems(); const subtotal=items.reduce((s,i)=>s+i.price*i.qty,0); const tax=+(subtotal*SETTINGS.TAX_RATE).toFixed(2); const shipping=(subtotal>SETTINGS.SHIPPING.freeThreshold||!items.length)?0:SETTINGS.SHIPPING.base; return {subtotal, tax, shipping, total: subtotal+tax+shipping}; }
      function updateBadge(){ const count=Object.values(getCart()).reduce((a,b)=>a+b,0); $('#cartCount').textContent=count; }

      // Drawer + focus trap
      const drawer = document.getElementById('cartDrawer');
      const openCartBtn = document.getElementById('openCart');
      const closeCartBtn = document.getElementById('closeCartBtn');
      let lastFocused = null;

      const getFocusable = (c)=>[...c.querySelectorAll('button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])')].filter(el=>!el.hasAttribute('disabled') && !el.getAttribute('aria-hidden'));
      function openDrawer(){ lastFocused=document.activeElement; drawer.classList.add('open'); drawer.removeAttribute('aria-hidden'); drawer.setAttribute('aria-modal','true'); drawer.setAttribute('role','dialog'); (getFocusable(drawer)[0]||drawer).focus(); document.body.style.overflow='hidden'; }
      function closeDrawer(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); document.body.style.overflow=''; if(lastFocused) lastFocused.focus(); }

      document.addEventListener('keydown', (e)=>{
        if(e.key==='Escape' && drawer.classList.contains('open')){ e.preventDefault(); closeDrawer(); }
        if(e.key==='Tab' && drawer.classList.contains('open')){
          const f=getFocusable(drawer); if(!f.length) return;
          const i=f.indexOf(document.activeElement);
          if(e.shiftKey && (i===0 || document.activeElement===drawer)){ e.preventDefault(); f[f.length-1].focus(); }
          else if(!e.shiftKey && i===f.length-1){ e.preventDefault(); f[0].focus(); }
        }
      });

      openCartBtn.addEventListener('click', ()=>{ openDrawer(); renderCart(); });
      closeCartBtn.addEventListener('click', closeDrawer);

      // Delegation: product grid
      grid.addEventListener('click', (e)=>{ const btn=e.target.closest('[data-add]'); if(btn) addToCart(btn.getAttribute('data-add')); });

      // Render cart
      const cartWrap = document.getElementById('cartItems');
      function renderCart(){
        const items = cartItems();
        cartWrap.innerHTML = '';

        if(!items.length){
          const empty = document.createElement('div');
          empty.className = 'muted';
          empty.style.textAlign = 'center';
          empty.style.padding = '24px';
          empty.textContent = 'Your cart is empty.';
          cartWrap.appendChild(empty);
        } else {
          items.forEach(i=>{
            const row = document.createElement('div'); row.className='row';

            const img = document.createElement('img'); img.alt=i.title; img.src=i.image; img.width=128; img.height=96; img.loading='lazy'; img.decoding='async';

            const middle = document.createElement('div');
            const name = document.createElement('strong'); name.textContent=i.title;
            const price = document.createElement('div'); price.className='muted'; price.textContent=fmt(i.price);

            const qty = document.createElement('div'); qty.className='qty'; qty.setAttribute('role','group'); qty.setAttribute('aria-label','Quantity');
            const dec = document.createElement('button'); dec.type='button'; dec.setAttribute('data-dec',i.id); dec.setAttribute('aria-label',`Decrease ${i.title} quantity`); dec.textContent='−';
            const input = document.createElement('input'); input.value=i.qty; input.setAttribute('inputmode','numeric'); input.setAttribute('aria-label',`Quantity for ${i.title}`); input.setAttribute('data-qty',i.id);
            const inc = document.createElement('button'); inc.type='button'; inc.setAttribute('data-inc',i.id); inc.setAttribute('aria-label',`Increase ${i.title} quantity`); inc.textContent='+';
            qty.append(dec,input,inc);

            middle.append(name,price,qty);

            const right = document.createElement('div'); right.style.textAlign='right';
            const sum = document.createElement('div'); sum.textContent = fmt(i.qty*i.price);
            const rem = document.createElement('button'); rem.className='btn btn-ghost'; rem.type='button'; rem.setAttribute('data-remove',i.id); rem.textContent='Remove';
            right.append(sum,rem);

            row.append(img,middle,right);
            cartWrap.appendChild(row);
          });
        }

        const t = totals();
        document.getElementById('subtotal').textContent = fmt(t.subtotal);
        document.getElementById('tax').textContent = fmt(t.tax);
        document.getElementById('shipping').textContent = fmt(t.shipping);
        document.getElementById('total').textContent = fmt(t.total);
        updateBadge();
      }

      // Cart events (single listeners)
      cartWrap.addEventListener('click', (e)=>{
        const inc=e.target.closest('[data-inc]'); const dec=e.target.closest('[data-dec]'); const rem=e.target.closest('[data-remove]');
        if(inc){ const id=inc.getAttribute('data-inc'); setQty(id,(getCart()[id]||0)+1); }
        if(dec){ const id=dec.getAttribute('data-dec'); setQty(id,Math.max(1,(getCart()[id]||1)-1)); }
        if(rem){ removeFromCart(rem.getAttribute('data-remove')); }
      });
      cartWrap.addEventListener('input', (e)=>{
        const el = e.target.closest('[data-qty]'); if(el){ setQty(el.getAttribute('data-qty'), el.value); }
      });

      document.getElementById('checkoutBtn').addEventListener('click', ()=>{
        const items = cartItems();
        if(!items.length){ showToast('Your cart is empty'); announce('Your cart is empty'); return; }
        if(!SETTINGS.CHECKOUT_ENABLED){
          showToast('Demo checkout — connect Stripe/Shopify next');
          console.log({items: items.map(i=>({id:i.id, qty:i.qty})), totals: totals()});
          return;
        }
        // Real checkout flow would go here.
      });

      // Init
      renderProducts();
      renderCart();

      // JSON-LD (canonical @graph)
      try {
        const graph = DATA.PRODUCTS.map(p => ({
          "@type": "Product",
          "name": p.title,
          "image": p.image,
          "description": `${p.title} — ${p.size}${p.tag ? ` • ${p.tag}` : ''}`,
          "sku": p.id,
          "brand": { "@type": "Brand", "name": "Mercymie Naturals" },
          "offers": {
            "@type": "Offer",
            "priceCurrency": "USD",
            "price": p.price,
            "availability": "https://schema.org/InStock",
            "url": location.href + `#${p.id}`
          }
        }));
        const ld = document.createElement('script');
        ld.type = 'application/ld+json';
        ld.textContent = JSON.stringify({ "@context": "https://schema.org", "@graph": graph });
        document.head.appendChild(ld);
      } catch {}
    });
  </script>

  <!-- CART DRAWER -->
  <aside class="drawer" id="cartDrawer" aria-labelledby="cartTitle" aria-hidden="true" tabindex="-1">
    <header>
      <strong id="cartTitle">Your Cart</strong>
      <button id="closeCartBtn" class="btn btn-ghost" type="button">Close</button>
    </header>
    <div class="items" id="cartItems"><div class="muted">Your cart is empty.</div></div>
    <footer>
      <div class="row-sum"><span>Subtotal</span><span id="subtotal">$0.00</span></div>
      <div class="row-sum"><span>Estimated Tax</span><span id="tax">$0.00</span></div>
      <div class="row-sum"><span>Estimated Shipping</span><span id="shipping">$0.00</span></div>
      <div class="row-sum"><strong>Total</strong><strong id="total">$0.00</strong></div>
      <button id="checkoutBtn" class="btn btn-primary" style="margin-top:8px" type="button">Checkout</button>
    </footer>
  </aside>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite">Added to cart</div>
</body>
</html>
